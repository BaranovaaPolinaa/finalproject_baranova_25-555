# finalproject_baranova_25-555

## Платформа для отслеживания и симуляции торговли валютами

Это комплексная платформа, которая позволяет пользователям регистрироваться, управлять своим виртуальным портфелем валют и криптовалют, совершать сделки по покупке/продаже, а также отслеживать актуальные курсы в реальном времени.

## Демонстрация процесса

[![asciicast](https://asciinema.org/a/rhhvywpRb7ujtuLl.svg)](https://asciinema.org/a/rhhvywpRb7ujtuLl)

## Запуск проекта на Python

### Требования

Перед началом убедись, что у тебя установлено:

* **Python** версии **3.11** или выше
  Проверить версию:

  ```bash
  python3 --version
  ```

* **Poetry** – менеджер зависимостей и виртуальных окружений
  Установка:

  ```bash
  curl -sSL https://install.python-poetry.org | python3 -
  ```

  Проверка:

  ```bash
  poetry --version
  ```

* **pre-commit** – инструмент для автоматических проверок при коммитах
  Установка:

  ```bash
  pip install pre-commit
  ```
---

## Быстрый старт через Makefile

В проекте есть `Makefile`, который автоматизирует основные шаги.
Доступные команды:

### 1. Установка зависимостей

```bash
make install
```

Устанавливает все зависимости через Poetry и подготавливает окружение.
### 2. Активация виртуального окружения

После установки зависимостей можно активировать окружение двумя способами:
Через Poetry (рекомендовано):

```bash
  poetry env activate
```

Ручной способ (если нужно активировать .venv напрямую):
```bash
  source .venv/bin/activate
```

После активации можно запускать проект и устанавливать пакеты внутри окружения.

### 3. Запуск проекта

```bash
  make project
```

Запускает основной скрипт проекта (`poetry run project`).

### 4. Сборка пакета

```bash
  make build
```

Собирает дистрибутив пакета (`.whl`) в папку `dist/`.

### 5. Публикация (тестовый режим)

```bash
  make publish
```

Проверяет, как пройдёт публикация в PyPI, без фактической загрузки (`--dry-run`).

### 6. Установка собранного пакета

```bash
  make package-install
```

Устанавливает локально последний собранный wheel-файл из `dist/`.

### 6. Проверка кодовой базы

```bash
  make lint
```

---

## Полезно знать

* Для ручного запуска без Makefile можно использовать:

  ```bash
  poetry install
  poetry run project
  ```
* Если используешь .venv напрямую, не забудь активировать его через:
  ```bash
  source .venv/bin/activate
  ```
---


## Интерактивный CLI

После запуска проекта откроется интерактивная командная строка с следующими командами:

### Управление пользователями

- **`register <username> <password>`** — регистрация нового пользователя  
  **Пример:** `register user_name user_pass`

- **`login <username> <password>`** — вход в систему  
  **Пример:** `login user_name user_pass`

### Торговые операции

- **`buy <currency> <amount>`** — купить указанное количество валюты  
  **Пример:** `buy BTC 4.5` (купить 0.5 Bitcoin)

- **`sell <currency> <amount>`** — продать указанное количество валюты  
  **Пример:** `sell BTC 2.0` (продать 2 Bitcoin)

### Портфель и аналитика

- **`show-portfolio`** — показать текущий портфель пользователя с общей стоимостью  
  *Отображает все валюты в портфеле, их количество и текущую стоимость*

- **`get-rate <currency>`** — показать текущий курс указанной валюты  
  **Пример:** `get-rate USD` (курс доллара)

### Работа с курсами валют

- **`update-rates [source]`** — обновить курсы валют из указанного источника  
  **Доступные источники:** `coingecko` (криптовалюты), `exchangerate` (фиатные валюты)  
  **Пример:** `update-rates coingecko`

- **`show-rates [currency] [top] [base]`** — показать локальные курсы валют  
  **Параметры:**
  - `currency` — фильтр по конкретной валюте (необязательно)
  - `top` — показать топ N валют (необязательно)
  - `base` — базовая валюта для отображения курсов (необязательно)

  **Примеры:**
  - `show-rates` — показать все курсы

### Выход из системы

 **`exit`** — выйти из CLI и завершить работу программы
